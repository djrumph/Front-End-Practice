<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
 <style>

     :root{
         --backgroundColor: #102a54;
     }
    body{
       background-color: var(--backgroundColor);
    }

</style>
</head>
<body>

    <canvas id="sky"></canvas>
    
    <script>
    
   window.onload = function (){

//get the canvas and context and store in vars
       let canvas = document.getElementById("sky");
       var ctx = canvas.getContext("2d");

//set canvas dims to window height and width
        let width = window.innerWidth;
        let height = window.innerHeight;

        canvas.width = width;
        canvas.height = height;

        //generate the snowflakes and apply attributes

        let maxFlakes = 100;
        let flakes = [];

        //loop through the empty flakes and apply attributes

        for(let i =0; i<maxFlakes; i++){
            flakes.push({
                xCordinate:Math.random() *width,
                yCordinate:Math.random() *height,
                radius:Math.random() *5+2,
                density:Math.random() *+1,

            })
        }

        // draw flakes onto canvas

        function drawFlakes(){

            ctx.cleatRect(0,0,width,height);
            ctx.fillStyle = "white";
            ctx.beginPath();
            for(let i =0; i<maxFlakes; i++){
                let newFlakes = flakes[i];
                ctx.moveTo(newFlakes.xCordinate, newFlakes.yCordinate);
                ctx.arc(newFlakes.xCordinate, newFlakes.yCordinate, flakes.radius, 0, true);

            }

            ctx.fill();
            moveFlakes();
        }

        //animate the flakes
        let angle = 0;

        function moveFlakes(){
            angle += 0.01;
            for(let i =0; i<maxFlakes; i++){

                //store current flakes
                let newflakes = flakes[i];

                //update X and Y coordinates of each snowflake
                newFlakes.yCordinate += Math.pow(newFlakes.density, 2) + 1;
                newFlakes.xCordinate += Math.sin(angle) + 2;

                //if the snowflake reaches the bottom, send a new one to the top

                if(newFlakes.yCordinate > height){
                    flakes[i] = {xCordinate: Math.random()*width, yCordinate: 0, radius: newflakes.radius, density:newflakes.density}
                }
        }



   }
}
    
    </script>
</body>
</html>